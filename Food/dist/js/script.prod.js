"use strict";var _sliderMin=require("./modules/slider.min.js");function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}var clientWidth=document.documentElement.offsetWidth,menuStatus=0,menuInit=function(){var e,t,n,a=document.querySelector(".header"),i=a.querySelector(".header .menu"),r=a.querySelector(".header button.open-modal"),o=a.querySelector(".header .logo"),c=r.cloneNode(!0),s=i.cloneNode(!0),d=0;clientWidth<576?(console.log(clientWidth),0==menuStatus&&(function(){e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("span"),t.classList.add("menuBtn"),e.classList.add("mobileMenuWrapp"),t.append(n),e.append(s,c),i.remove(),r.remove(),a.append(t),a.append(e);t.addEventListener("click",function(){d=0==d?(e.classList.add("active"),t.classList.add("active"),o.style.width="0",o.style.transform="translateX(-140px)",1):(e.classList.remove("active"),t.classList.remove("active"),o.style.width="70px",o.style.transform="translateX(0)",0)})}(),menuStatus=1)):1==menuStatus&&(a.querySelector(".menuBtn").remove(),a.querySelector(".mobileMenuWrapp").remove(),a.append(s),a.append(c),console.log("test"),menuStatus=0)},modalInit=function(){function t(){n.classList.add("active"),document.body.classList.add("modalActive"),window.addEventListener("click",a),window.addEventListener("keydown",a)}var n=document.querySelector(".modal"),e=document.querySelectorAll(".open-modal"),a=function e(t){(t.target.classList.contains("modalClose")||t.target.classList.contains("modal")||"Escape"==t.code)&&(n.classList.remove("active"),document.body.classList.remove("modalActive"),window.removeEventListener("click",e),window.removeEventListener("keydown",e))};e.forEach(function(e){return e.addEventListener("click",t)});window.addEventListener("scroll",function e(){document.documentElement.scrollTop+document.documentElement.clientHeight>=document.documentElement.offsetHeight&&(t(),window.removeEventListener("scroll",e))})},tabs=function(){function n(n){t.forEach(function(e,t){e.classList.remove("active"),t==n&&e.classList.add("active")}),a.forEach(function(e,t){e.classList.remove("active"),t==n&&e.classList.add("active")}),i.forEach(function(e,t){e.classList.remove("active"),t==n&&e.classList.add("active")})}var e=document.querySelector(".tabs"),t=e.querySelectorAll(".tabContent"),a=e.querySelectorAll(".tabDescr .descr"),i=e.querySelectorAll(".tabsNavigation .navItem");n(0),i.forEach(function(e,t){e.setAttribute("data-num",t),e.addEventListener("click",function(){n(e.dataset.num)})})},slider=function(){(0,_sliderMin.initCustomSlider)({section:".section2 .customSlider",arrows:!0,dots:!0})},calculator=function(){function a(){var e;d.gender&&d.height&&d.weight&&d.age&&d.activity&&("male"==d.gender?e=((88.36+13.4*d.weight+4.8*d.height-5.7*d.age)*d.activity).toFixed(0):"female"==d.gender&&(e=((447.6+9.2*d.weight+3.1*d.height-4.3*d.age)*d.activity).toFixed(0)),s.innerHTML=e)}function t(e,t,n){t.forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),d[n]=e.dataset[n],a()}var e=document.querySelector(".section3 .calc"),n=e.querySelectorAll(".gender .calcItem"),i=e.querySelector(".stats .weight"),r=e.querySelector(".stats .height"),o=e.querySelector(".stats .age"),c=e.querySelectorAll(".activity .calcItem"),s=e.querySelector(".resultBlock .number"),d={gender:"female",height:"",weight:"",age:"",activity:"1.375"};n.forEach(function(e){e.addEventListener("click",function(){t(e,n,"gender")})}),c.forEach(function(e){e.addEventListener("click",function(){t(e,c,"activity")})});!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){e.addEventListener("input",function(){e.value=e.value.replace(/\D/g,""),300<e.value&&(e.value=299),d[e.getAttribute("name")]=e.value,a()})})}(r,i,o)},cards=function(){var u=document.querySelector(".section4 .cards .row");[{img:"img/tabs/vegy.jpg",heading:"Меню 'Фитнес'",content:"Меню 'Фитнес' - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!",price:256},{img:"img/tabs/post.jpg",heading:"Меню 'Постное'",content:"Меню 'Постное' - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.",price:450},{img:"img/tabs/elite.jpg",heading:"Меню 'Премиум'",content:"В меню 'Премиум' мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!",price:576}].forEach(function(e){var t,n,a,i,r,o,c,s,d,l;t=e,n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("img"),c=document.createElement("h3"),s=document.createElement("p"),d=document.createElement("p"),l=document.createElement("p"),n.classList.add("cardItem"),a.classList.add("cardHead"),i.classList.add("cardBody"),r.classList.add("cardFooter"),o.src=t.img,c.innerText=t.heading,a.append(o),i.append(c),s.innerText=t.content,i.append(s),d.innerText="Цена:",r.append(d),l.innerHTML='<span class="price">'.concat(t.price,"</span> грн/день"),r.append(l),n.append(a,i,r),u.append(n)})},time="2020-11-21",timer=function(){var e=document.querySelector(".stock .timer"),i=e.querySelector(".timeVal .days"),r=e.querySelector(".timeVal .hours"),o=e.querySelector(".timeVal .minutes"),c=e.querySelector(".timeVal .seconds"),s=new Date(time);if(s-new Date<864e6)for(;s-new Date<864e6;)s.setDate(s.getDate()+10);function t(){var e,t,n=(e=s,{total:t=Date.parse(e)-Date.parse(new Date),days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)});for(var a in n)n[a]<10&&(n[a]="0".concat(n[a]));i.innerText=n.days,r.innerText=n.hours,o.innerText=n.minutes,c.innerText=n.seconds}t(),setInterval(t,1e3)},animation=function(){var e=document.querySelectorAll(".anim");e.forEach(function(e){return e.setAttribute("data-hide",0)});function a(e){e.style.transform="translateX(0)"}function t(){e.forEach(function(e){var n,t;0==e.dataset.hide&&((n=e).classList.contains("animLeft")?t="translateX(-100vw)":n.classList.contains("animRight")&&(t="translateX(100vw)"),new Promise(function(e,t){n.style.transition="0s",e(n)}).then(n.style.transform=t).then(setTimeout(function(){n.style.transition=".75s",n.dataset.hide=1},750))),window.pageYOffset+document.documentElement.clientHeight>e.offsetTop&&window.pageYOffset<e.offsetTop+e.offsetHeight&&(0==e.dataset.hide?setTimeout(function(){a(e)},751):a(e))})}t(),window.addEventListener("scroll",t),window.addEventListener("resize",t)},render=function(e){_toArray(e).slice(0).forEach(function(e){return e()})};render([menuInit,modalInit,tabs,slider,calculator,cards,timer,animation]),window.addEventListener("resize",function(){clientWidth=document.documentElement.clientWidth,render([menuInit])});